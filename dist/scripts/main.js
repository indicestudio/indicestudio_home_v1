"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var e=function(e,i){this.el=t(e),this.options=t.extend({},t.fn.typed.defaults,i),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var i=this.stringsElement.children();t.each(i,function(i,s){e.strings.push(t(s).html())})}this.init()},typewrite:function(t,e){if(this.stop!==!0){var i=Math.round(70*Math.random())+this.typeSpeed,s=this;s.timeout=setTimeout(function(){var i=0,n=t.substr(e);if("^"===n.charAt(0)){var o=1;/^\^\d+/.test(n)&&(n=/\d+/.exec(n)[0],o+=n.length,i=parseInt(n)),t=t.substring(0,e)+t.substring(e+o)}if("html"===s.contentType){var r=t.substr(e).charAt(0);if("<"===r||"&"===r){var a="",h="";for(h="<"===r?">":";";t.substr(e+1).charAt(0)!==h&&(a+=t.substr(e).charAt(0),e++,!(e+1>t.length)););e++,a+=h}}s.timeout=setTimeout(function(){if(e===t.length){if(s.options.onStringTyped(s.arrayPos),s.arrayPos===s.strings.length-1&&(s.options.callback(),s.curLoop++,s.loop===!1||s.curLoop===s.loopCount))return;s.timeout=setTimeout(function(){s.backspace(t,e)},s.backDelay)}else{0===e&&s.options.preStringTyped(s.arrayPos);var i=t.substr(0,e+1);s.attr?s.el.attr(s.attr,i):s.isInput?s.el.val(i):"html"===s.contentType?s.el.html(i):s.el.text(i),e++,s.typewrite(t,e)}},i)},i)}},backspace:function(t,e){if(this.stop!==!0){var i=Math.round(70*Math.random())+this.backSpeed,s=this;s.timeout=setTimeout(function(){if("html"===s.contentType&&">"===t.substr(e).charAt(0)){for(var i="";"<"!==t.substr(e-1).charAt(0)&&(i-=t.substr(e).charAt(0),e--,!(e<0)););e--,i+="<"}var n=t.substr(0,e);s.attr?s.el.attr(s.attr,n):s.isInput?s.el.val(n):"html"===s.contentType?s.el.html(n):s.el.text(n),e>s.stopNum?(e--,s.backspace(t,e)):e<=s.stopNum&&(s.arrayPos++,s.arrayPos===s.strings.length?(s.arrayPos=0,s.shuffle&&(s.sequence=s.shuffleArray(s.sequence)),s.init()):s.typewrite(s.strings[s.sequence[s.arrayPos]],e))},i)}},shuffleArray:function(t){var e,i,s=t.length;if(s)for(;--s;)i=Math.floor(Math.random()*(s+1)),e=t[i],t[i]=t[s],t[s]=e;return t},reset:function(){var t=this;clearInterval(t.timeout);this.el.attr("id");this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(i){return this.each(function(){var s=t(this),n=s.data("typed"),o="object"==("undefined"==typeof i?"undefined":_typeof(i))&&i;n&&n.reset(),s.data("typed",n=new e(this,o)),"string"==typeof i&&n[i]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){function t(i){return"undefined"==typeof this||Object.getPrototypeOf(this)!==t.prototype?new t(i):(D=this,D.version="3.3.1",D.tools=new w,D.isSupported()?(D.tools.extend(D.defaults,i||{}),e(D.defaults),D.store={elements:{},containers:[]},D.sequences={},D.history=[],D.uid=0,D.initialized=!1):"undefined"!=typeof console&&null!==console,D)}function e(t){if(t&&t.container){if("string"==typeof t.container)return window.document.documentElement.querySelector(t.container);if(D.tools.isNode(t.container))return t.container}return D.defaults.container}function i(t,e){return"string"==typeof t?Array.prototype.slice.call(e.querySelectorAll(t)):D.tools.isNode(t)?[t]:D.tools.isNodeList(t)?Array.prototype.slice.call(t):[]}function s(){return++D.uid}function n(t,e,i){e.container&&(e.container=i),t.config?t.config=D.tools.extendClone(t.config,e):t.config=D.tools.extendClone(D.defaults,e),"top"===t.config.origin||"bottom"===t.config.origin?t.config.axis="Y":t.config.axis="X"}function o(t){var e=window.getComputedStyle(t.domEl);t.styles||(t.styles={transition:{},transform:{},computed:{}},t.styles.inline=t.domEl.getAttribute("style")||"",t.styles.inline+="; visibility: visible; ",t.styles.computed.opacity=e.opacity,e.transition&&"all 0s ease 0s"!==e.transition?t.styles.computed.transition=e.transition+", ":t.styles.computed.transition=""),t.styles.transition.instant=r(t,0),t.styles.transition.delayed=r(t,t.config.delay),t.styles.transform.initial=" -webkit-transform:",t.styles.transform.target=" -webkit-transform:",a(t),t.styles.transform.initial+="transform:",t.styles.transform.target+="transform:",a(t)}function r(t,e){var i=t.config;return"-webkit-transition: "+t.styles.computed.transition+"-webkit-transform "+i.duration/1e3+"s "+i.easing+" "+e/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+e/1e3+"s; transition: "+t.styles.computed.transition+"transform "+i.duration/1e3+"s "+i.easing+" "+e/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+e/1e3+"s; "}function a(t){var e,i=t.config,s=t.styles.transform;e="top"===i.origin||"left"===i.origin?/^-/.test(i.distance)?i.distance.substr(1):"-"+i.distance:i.distance,parseInt(i.distance)&&(s.initial+=" translate"+i.axis+"("+e+")",s.target+=" translate"+i.axis+"(0)"),i.scale&&(s.initial+=" scale("+i.scale+")",s.target+=" scale(1)"),i.rotate.x&&(s.initial+=" rotateX("+i.rotate.x+"deg)",s.target+=" rotateX(0)"),i.rotate.y&&(s.initial+=" rotateY("+i.rotate.y+"deg)",s.target+=" rotateY(0)"),i.rotate.z&&(s.initial+=" rotateZ("+i.rotate.z+"deg)",s.target+=" rotateZ(0)"),s.initial+="; opacity: "+i.opacity+";",s.target+="; opacity: "+t.styles.computed.opacity+";"}function h(t){var e=t.config.container;e&&D.store.containers.indexOf(e)===-1&&D.store.containers.push(t.config.container),D.store.elements[t.id]=t}function c(t,e,i){var s={target:t,config:e,interval:i};D.history.push(s)}function u(){if(D.isSupported()){f();for(var t=0;t<D.store.containers.length;t++)D.store.containers[t].addEventListener("scroll",d),D.store.containers[t].addEventListener("resize",d);D.initialized||(window.addEventListener("scroll",d),window.addEventListener("resize",d),D.initialized=!0)}return D}function d(){S(f)}function l(){var t,e,i,s;D.tools.forOwn(D.sequences,function(n){s=D.sequences[n],t=!1;for(var o=0;o<s.elemIds.length;o++)i=s.elemIds[o],e=D.store.elements[i],C(e)&&!t&&(t=!0);s.active=t})}function f(){var t,e;l(),D.tools.forOwn(D.store.elements,function(i){e=D.store.elements[i],t=y(e),g(e)?(e.config.beforeReveal(e.domEl),t?e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.delayed):e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.instant),p("reveal",e,t),e.revealing=!0,e.seen=!0,e.sequence&&m(e,t)):T(e)&&(e.config.beforeReset(e.domEl),e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.initial+e.styles.transition.instant),p("reset",e),e.revealing=!1)})}function m(t,e){var i=0,s=0,n=D.sequences[t.sequence.id];n.blocked=!0,e&&"onload"===t.config.useDelay&&(s=t.config.delay),t.sequence.timer&&(i=Math.abs(t.sequence.timer.started-new Date),window.clearTimeout(t.sequence.timer)),t.sequence.timer={started:new Date},t.sequence.timer.clock=window.setTimeout(function(){n.blocked=!1,t.sequence.timer=null,d()},Math.abs(n.interval)+s-i)}function p(t,e,i){var s=0,n=0,o="after";switch(t){case"reveal":n=e.config.duration,i&&(n+=e.config.delay),o+="Reveal";break;case"reset":n=e.config.duration,o+="Reset"}e.timer&&(s=Math.abs(e.timer.started-new Date),window.clearTimeout(e.timer.clock)),e.timer={started:new Date},e.timer.clock=window.setTimeout(function(){e.config[o](e.domEl),e.timer=null},n-s)}function g(t){if(t.sequence){var e=D.sequences[t.sequence.id];return e.active&&!e.blocked&&!t.revealing&&!t.disabled}return C(t)&&!t.revealing&&!t.disabled}function y(t){var e=t.config.useDelay;return"always"===e||"onload"===e&&!D.initialized||"once"===e&&!t.seen}function T(t){if(t.sequence){var e=D.sequences[t.sequence.id];return!e.active&&t.config.reset&&t.revealing&&!t.disabled}return!C(t)&&t.config.reset&&t.revealing&&!t.disabled}function E(t){return{width:t.clientWidth,height:t.clientHeight}}function v(t){if(t&&t!==window.document.documentElement){var e=I(t);return{x:t.scrollLeft+e.left,y:t.scrollTop+e.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function I(t){var e=0,i=0,s=t.offsetHeight,n=t.offsetWidth;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft),t=t.offsetParent;while(t);return{top:e,left:i,height:s,width:n}}function C(t){function e(){var e=c+a*r,i=u+h*r,s=d-a*r,f=l-h*r,m=o.y+t.config.viewOffset.top,p=o.x+t.config.viewOffset.left,g=o.y-t.config.viewOffset.bottom+n.height,y=o.x-t.config.viewOffset.right+n.width;return e<g&&s>m&&i>p&&f<y}function i(){return"fixed"===window.getComputedStyle(t.domEl).position}var s=I(t.domEl),n=E(t.config.container),o=v(t.config.container),r=t.config.viewFactor,a=s.height,h=s.width,c=s.top,u=s.left,d=c+a,l=u+h;return e()||i()}function w(){}var D,S;t.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(t){},afterReveal:function(t){},beforeReset:function(t){},afterReset:function(t){}},t.prototype.isSupported=function(){var t=document.documentElement.style;return"WebkitTransition"in t&&"WebkitTransform"in t||"transition"in t&&"transform"in t},t.prototype.reveal=function(t,r,a,d){var l,f,m,p,g,y;if(void 0!==r&&"number"==typeof r?(a=r,r={}):void 0!==r&&null!==r||(r={}),l=e(r),f=i(t,l),!f.length)return D;a&&"number"==typeof a&&(y=s(),g=D.sequences[y]={id:y,interval:a,elemIds:[],active:!1});for(var T=0;T<f.length;T++)p=f[T].getAttribute("data-sr-id"),p?m=D.store.elements[p]:(m={id:s(),domEl:f[T],seen:!1,revealing:!1},m.domEl.setAttribute("data-sr-id",m.id)),g&&(m.sequence={id:g.id,index:g.elemIds.length},g.elemIds.push(m.id)),n(m,r,l),o(m),h(m),D.tools.isMobile()&&!m.config.mobile||!D.isSupported()?(m.domEl.setAttribute("style",m.styles.inline),m.disabled=!0):m.revealing||m.domEl.setAttribute("style",m.styles.inline+m.styles.transform.initial);return!d&&D.isSupported()&&(c(t,r,a),D.initTimeout&&window.clearTimeout(D.initTimeout),D.initTimeout=window.setTimeout(u,0)),D},t.prototype.sync=function(){if(D.history.length&&D.isSupported()){for(var t=0;t<D.history.length;t++){var e=D.history[t];D.reveal(e.target,e.config,e.interval,!0)}u()}return D},w.prototype.isObject=function(t){return null!==t&&"object"==("undefined"==typeof t?"undefined":_typeof(t))&&t.constructor===Object},w.prototype.isNode=function(t){return"object"==_typeof(window.Node)?t instanceof window.Node:t&&"object"==("undefined"==typeof t?"undefined":_typeof(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},w.prototype.isNodeList=function(t){var e=Object.prototype.toString.call(t),i=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==_typeof(window.NodeList)?t instanceof window.NodeList:t&&"object"==("undefined"==typeof t?"undefined":_typeof(t))&&i.test(e)&&"number"==typeof t.length&&(0===t.length||this.isNode(t[0]))},w.prototype.forOwn=function(t,e){if(!this.isObject(t))throw new TypeError('Expected "object", but received "'+("undefined"==typeof t?"undefined":_typeof(t))+'".');for(var i in t)t.hasOwnProperty(i)&&e(i)},w.prototype.extend=function(t,e){return this.forOwn(e,function(i){this.isObject(e[i])?(t[i]&&this.isObject(t[i])||(t[i]={}),this.extend(t[i],e[i])):t[i]=e[i]}.bind(this)),t},w.prototype.extendClone=function(t,e){return this.extend(this.extend({},t),e)},w.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},S=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window.ScrollReveal=t}(),$("#porque").length&&(!function(){function t(e,i){return t.instance_?t.instance_:(t.instance_=this,this.outerContainerEl=document.querySelector(e),this.containerEl=null,this.snackbarEl=null,this.config=i||t.config,this.dimensions=t.defaultDimensions,this.canvas=null,this.canvasCtx=null,this.tRex=null,this.distanceMeter=null,this.distanceRan=0,this.highestScore=0,this.time=0,this.runningTime=0,this.msPerFrame=1e3/E,this.currentSpeed=this.config.SPEED,this.obstacles=[],this.started=!1,this.activated=!1,this.crashed=!1,this.paused=!1,this.resizeTimerId_=null,this.playCount=0,this.audioBuffer=null,this.soundFx={},this.audioContext=null,this.images={},this.imagesLoaded=0,this.loadImages(),void(this.gamepadPreviousKeyDown=!1))}function e(t,e){return Math.floor(Math.random()*(e-t+1))+t}function i(t){C&&window.navigator.vibrate&&window.navigator.vibrate(t)}function s(e,i,s,n){var o=document.createElement("canvas");return o.className=n?t.classes.CANVAS+" "+n:t.classes.CANVAS,o.width=i,o.height=s,e.appendChild(o),o}function n(t){for(var e=t.length/4*3,i=atob(t),s=new ArrayBuffer(e),n=new Uint8Array(s),o=0;o<e;o++)n[o]=i.charCodeAt(o);return n.buffer}function o(){return I?(new Date).getTime():performance.now()}function r(t,e,i,s){this.canvas=t,this.canvasCtx=t.getContext("2d"),this.canvasDimensions=s,this.textImgPos=e,this.restartImgPos=i,this.draw()}function a(e,i,s){var n=(t.defaultDimensions.WIDTH+e.xPos,new d(i.xPos+1,i.yPos+1,i.config.WIDTH-2,i.config.HEIGHT-2)),o=new d(e.xPos+1,e.yPos+1,e.typeConfig.width*e.size-2,e.typeConfig.height-2);if(s&&c(s,n,o),u(n,o))for(var r=e.collisionBoxes,a=i.ducking?f.collisionBoxes.DUCKING:f.collisionBoxes.RUNNING,l=0;l<a.length;l++)for(var m=0;m<r.length;m++){var p=h(a[l],n),g=h(r[m],o),y=u(p,g);if(s&&c(s,p,g),y)return[p,g]}return!1}function h(t,e){return new d(t.x+e.x,t.y+e.y,t.width,t.height)}function c(t,e,i){t.save(),t.strokeStyle="#f00",t.strokeRect(e.x,e.y,e.width,e.height),t.strokeStyle="#0f0",t.strokeRect(i.x,i.y,i.width,i.height),t.restore()}function u(t,e){var i=!1,s=(t.x,t.y,e.x);e.y;return t.x<s+e.width&&t.x+t.width>s&&t.y<e.y+e.height&&t.height+t.y>e.y&&(i=!0),i}function d(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s}function l(t,i,s,n,o,r){this.canvasCtx=t,this.spritePos=s,this.typeConfig=i,this.gapCoefficient=o,this.size=e(1,l.MAX_OBSTACLE_LENGTH),this.dimensions=n,this.remove=!1,this.xPos=0,this.yPos=0,this.width=0,this.collisionBoxes=[],this.gap=0,this.speedOffset=0,this.currentFrame=0,this.timer=0,this.init(r)}function f(t,e){this.canvas=t,this.canvasCtx=t.getContext("2d"),this.spritePos=e,this.xPos=0,this.yPos=0,this.groundYPos=0,this.currentFrame=0,this.currentAnimFrames=[],this.blinkDelay=0,this.animStartTime=0,this.timer=0,this.msPerFrame=1e3/E,this.config=f.config,this.status=f.status.WAITING,this.jumping=!1,this.ducking=!1,this.jumpVelocity=0,this.reachedMinHeight=!1,this.speedDrop=!1,this.jumpCount=0,this.jumpspotX=0,this.init()}function m(e,i,s){this.canvas=e,this.canvasCtx=e.getContext("2d"),this.image=t.imageSprite,this.spritePos=i,this.x=0,this.y=5,this.currentDistance=0,this.maxScore=0,this.highScore=0,this.container=null,this.digits=[],this.acheivement=!1,this.defaultString="",this.flashTimer=0,this.flashIterations=0,this.config=m.config,this.maxScoreUnits=this.config.MAX_DISTANCE_UNITS,this.init(s)}function p(t,i,s){this.canvas=t,this.canvasCtx=this.canvas.getContext("2d"),this.spritePos=i,this.containerWidth=s,this.xPos=s,this.yPos=0,this.remove=!1,this.cloudGap=e(p.config.MIN_CLOUD_GAP,p.config.MAX_CLOUD_GAP),this.init()}function g(t,e){this.spritePos=e,this.canvas=t,this.canvasCtx=t.getContext("2d"),this.sourceDimensions={},this.dimensions=g.dimensions,this.sourceXPos=[this.spritePos.x,this.spritePos.x+this.dimensions.WIDTH],this.xPos=[],this.yPos=0,this.bumpThreshold=.5,this.setSourceDimensions(),this.draw()}function y(t,e,i,s){this.canvas=t,this.canvasCtx=this.canvas.getContext("2d"),this.config=y.config,this.dimensions=i,this.gapCoefficient=s,this.obstacles=[],this.obstacleHistory=[],this.horizonOffsets=[0,0],this.cloudFrequency=this.config.CLOUD_FREQUENCY,this.spritePos=e,this.clouds=[],this.cloudSpeed=this.config.BG_CLOUD_SPEED,this.horizonLine=null,this.init()}window.Runner=t;var T=600,E=60,v=window.devicePixelRatio>1,I=window.navigator.userAgent.indexOf("CriOS")>-1||"UIWebViewForStaticFileContent"==window.navigator.userAgent,C=window.navigator.userAgent.indexOf("Mobi")>-1||I;"ontouchstart"in window;t.config={ACCELERATION:.001,BG_CLOUD_SPEED:.2,BOTTOM_PAD:10,CLEAR_TIME:3e3,CLOUD_FREQUENCY:.5,GAMEOVER_CLEAR_TIME:750,GAP_COEFFICIENT:.6,GRAVITY:.6,INITIAL_JUMP_VELOCITY:12,MAX_CLOUDS:6,MAX_OBSTACLE_LENGTH:3,MAX_OBSTACLE_DUPLICATION:2,MAX_SPEED:13,MIN_JUMP_HEIGHT:35,MOBILE_SPEED_COEFFICIENT:1.2,RESOURCE_TEMPLATE_ID:"audio-resources",SPEED:6,SPEED_DROP_COEFFICIENT:3},t.defaultDimensions={WIDTH:T,HEIGHT:150},t.classes={CANVAS:"runner-canvas",CONTAINER:"runner-container",CRASHED:"crashed",ICON:"icon-offline",SNACKBAR:"snackbar",SNACKBAR_SHOW:"snackbar-show",TOUCH_CONTROLLER:"controller"},t.spriteDefinition={LDPI:{CACTUS_LARGE:{x:332,y:2},CACTUS_SMALL:{x:228,y:2},CLOUD:{x:86,y:2},HORIZON:{x:2,y:54},PTERODACTYL:{x:134,y:2},RESTART:{x:2,y:2},TEXT_SPRITE:{x:484,y:2},TREX:{x:677,y:2}},HDPI:{CACTUS_LARGE:{x:652,y:2},CACTUS_SMALL:{x:446,y:2},CLOUD:{x:166,y:2},HORIZON:{x:2,y:104},PTERODACTYL:{x:260,y:2},RESTART:{x:2,y:2},TEXT_SPRITE:{x:954,y:2},TREX:{x:1338,y:2}}},t.sounds={BUTTON_PRESS:"offline-sound-press",HIT:"offline-sound-hit",SCORE:"offline-sound-reached"},t.keycodes={JUMP:{38:1,32:1},DUCK:{40:1},RESTART:{13:1}},t.events={ANIM_END:"webkitAnimationEnd",CLICK:"click",KEYDOWN:"keydown",KEYUP:"keyup",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",RESIZE:"resize",TOUCHEND:"touchend",TOUCHSTART:"touchstart",VISIBILITY:"visibilitychange",BLUR:"blur",FOCUS:"focus",LOAD:"load",GAMEPADCONNECTED:"gamepadconnected"},t.prototype={isDisabled:function(){return loadTimeData&&loadTimeData.valueExists("disabledEasterEgg")},setupDisabledRunner:function(){this.containerEl=document.createElement("div"),this.containerEl.className=t.classes.SNACKBAR,this.containerEl.textContent=loadTimeData.getValue("disabledEasterEgg"),this.outerContainerEl.appendChild(this.containerEl),document.addEventListener(t.events.KEYDOWN,function(e){t.keycodes.JUMP[e.keyCode]&&(this.containerEl.classList.add(t.classes.SNACKBAR_SHOW),document.querySelector(".icon").classList.add("icon-disabled"))}.bind(this))},updateConfigSetting:function(t,e){if(t in this.config&&void 0!=e)switch(this.config[t]=e,t){case"GRAVITY":case"MIN_JUMP_HEIGHT":case"SPEED_DROP_COEFFICIENT":this.tRex.config[t]=e;break;case"INITIAL_JUMP_VELOCITY":this.tRex.setJumpVelocity(e);break;case"SPEED":this.setSpeed(e)}},loadImages:function(){v?(t.imageSprite=document.getElementById("offline-resources-2x"),this.spriteDef=t.spriteDefinition.HDPI):(t.imageSprite=document.getElementById("offline-resources-1x"),this.spriteDef=t.spriteDefinition.LDPI),this.init()},loadSounds:function(){if(!I){this.audioContext=new AudioContext;var e=document.getElementById(this.config.RESOURCE_TEMPLATE_ID).content;for(var i in t.sounds){var s=e.getElementById(t.sounds[i]).src;s=s.substr(s.indexOf(",")+1);var o=n(s);this.audioContext.decodeAudioData(o,function(t,e){this.soundFx[t]=e}.bind(this,i))}}},setSpeed:function(t){var e=t||this.currentSpeed;if(this.dimensions.WIDTH<T){var i=e*this.dimensions.WIDTH/T*this.config.MOBILE_SPEED_COEFFICIENT;this.currentSpeed=i>e?e:i}else t&&(this.currentSpeed=t)},init:function(){this.adjustDimensions(),this.setSpeed(),this.containerEl=document.createElement("div"),this.containerEl.className=t.classes.CONTAINER,this.canvas=s(this.containerEl,this.dimensions.WIDTH,this.dimensions.HEIGHT,t.classes.PLAYER),this.canvasCtx=this.canvas.getContext("2d"),this.canvasCtx.fillStyle="#f7f7f7",this.canvasCtx.fill(),t.updateCanvasScaling(this.canvas),this.horizon=new y(this.canvas,this.spriteDef,this.dimensions,this.config.GAP_COEFFICIENT),this.distanceMeter=new m(this.canvas,this.spriteDef.TEXT_SPRITE,this.dimensions.WIDTH),this.tRex=new f(this.canvas,this.spriteDef.TREX),this.outerContainerEl.appendChild(this.containerEl),C&&this.createTouchController(),this.startListening(),this.update(),window.addEventListener(t.events.RESIZE,this.debounceResize.bind(this))},createTouchController:function(){this.touchController=document.createElement("div"),this.touchController.className=t.classes.TOUCH_CONTROLLER},debounceResize:function(){this.resizeTimerId_||(this.resizeTimerId_=setInterval(this.adjustDimensions.bind(this),250))},adjustDimensions:function(){clearInterval(this.resizeTimerId_),this.resizeTimerId_=null;var e=window.getComputedStyle(this.outerContainerEl),i=Number(e.paddingLeft.substr(0,e.paddingLeft.length-2));this.dimensions.WIDTH=this.outerContainerEl.offsetWidth-2*i,this.canvas&&(this.canvas.width=this.dimensions.WIDTH,this.canvas.height=this.dimensions.HEIGHT,t.updateCanvasScaling(this.canvas),this.distanceMeter.calcXPos(this.dimensions.WIDTH),this.clearCanvas(),this.horizon.update(0,0,!0),this.tRex.update(0),this.activated||this.crashed||this.paused?(this.containerEl.style.width=this.dimensions.WIDTH+"px",this.containerEl.style.height=this.dimensions.HEIGHT+"px",this.distanceMeter.update(0,Math.ceil(this.distanceRan)),this.stop()):this.tRex.draw(0,0),this.crashed&&this.gameOverPanel&&(this.gameOverPanel.updateDimensions(this.dimensions.WIDTH),this.gameOverPanel.draw()))},playIntro:function(){if(this.started||this.crashed)this.crashed&&this.restart();else{this.playingIntro=!0,this.tRex.playingIntro=!0;var e="@-webkit-keyframes intro { from { width:"+f.config.WIDTH+"px }to { width: "+this.dimensions.WIDTH+"px }}";document.styleSheets[1].insertRule(e,0),this.containerEl.addEventListener(t.events.ANIM_END,this.startGame.bind(this)),this.containerEl.style.webkitAnimation="intro .4s ease-out 1 both",this.containerEl.style.width=this.dimensions.WIDTH+"px",this.touchController&&this.outerContainerEl.appendChild(this.touchController),this.activated=!0,this.started=!0}},startGame:function(){this.runningTime=0,this.playingIntro=!1,this.tRex.playingIntro=!1,this.containerEl.style.webkitAnimation="",this.playCount++,document.addEventListener(t.events.VISIBILITY,this.onVisibilityChange.bind(this)),window.addEventListener(t.events.BLUR,this.onVisibilityChange.bind(this)),window.addEventListener(t.events.FOCUS,this.onVisibilityChange.bind(this))},clearCanvas:function(){this.canvasCtx.clearRect(0,0,this.dimensions.WIDTH,this.dimensions.HEIGHT)},update:function(){this.drawPending=!1;var t=o(),e=t-(this.time||t);if(this.time=t,this.activated){this.clearCanvas(),this.tRex.jumping&&this.tRex.updateJump(e),this.runningTime+=e;var i=this.runningTime>this.config.CLEAR_TIME;1!=this.tRex.jumpCount||this.playingIntro||this.playIntro(),this.playingIntro?this.horizon.update(0,this.currentSpeed,i):(e=this.started?e:0,this.horizon.update(e,this.currentSpeed,i));var s=i&&a(this.horizon.obstacles[0],this.tRex);s?this.gameOver():(this.distanceRan+=this.currentSpeed*e/this.msPerFrame,this.currentSpeed<this.config.MAX_SPEED&&(this.currentSpeed+=this.config.ACCELERATION));var n=this.distanceMeter.update(e,Math.ceil(this.distanceRan));n&&this.playSound(this.soundFx.SCORE)}this.crashed||(this.tRex.update(e),this.raq())},handleEvent:function(e){return function(t,i){switch(t){case i.KEYDOWN:case i.TOUCHSTART:case i.MOUSEDOWN:case i.GAMEPADCONNECTED:this.onKeyDown(e);break;case i.KEYUP:case i.TOUCHEND:case i.MOUSEUP:this.onKeyUp(e)}}.bind(this)(e.type,t.events)},startListening:function(){document.addEventListener(t.events.KEYDOWN,this),document.addEventListener(t.events.KEYUP,this),C?(this.touchController.addEventListener(t.events.TOUCHSTART,this),this.touchController.addEventListener(t.events.TOUCHEND,this),this.containerEl.addEventListener(t.events.TOUCHSTART,this)):(document.addEventListener(t.events.MOUSEDOWN,this),document.addEventListener(t.events.MOUSEUP,this)),window.addEventListener(t.events.GAMEPADCONNECTED,this),window.setInterval(this.pollGamepads.bind(this),10)},pollGamepads:function(){for(var t=navigator.getGamepads(),e=!1,i=0;i<t.length;i++)void 0!=t[i]&&t[i].buttons.filter(function(t){return 1==t.pressed}).length>0&&(e=!0);if(e!=this.gamepadPreviousKeyDown){this.gamepadPreviousKeyDown=e;var s=new Event(e?"keydown":"keyup");s.keyCode=32,s.which=s.keyCode,s.altKey=!1,s.ctrlKey=!0,s.shiftKey=!1,s.metaKey=!1,document.dispatchEvent(s)}},stopListening:function(){document.removeEventListener(t.events.KEYDOWN,this),document.removeEventListener(t.events.KEYUP,this),C?(this.touchController.removeEventListener(t.events.TOUCHSTART,this),this.touchController.removeEventListener(t.events.TOUCHEND,this),this.containerEl.removeEventListener(t.events.TOUCHSTART,this)):(document.removeEventListener(t.events.MOUSEDOWN,this),document.removeEventListener(t.events.MOUSEUP,this))},onKeyDown:function(e){C&&e.preventDefault(),this.crashed||!t.keycodes.JUMP[e.keyCode]&&e.type!=t.events.TOUCHSTART&&e.type!=t.events.GAMEPADCONNECTED||(this.activated||(this.loadSounds(),this.activated=!0),this.tRex.jumping||this.tRex.ducking||(this.playSound(this.soundFx.BUTTON_PRESS),this.tRex.startJump(this.currentSpeed))),this.crashed&&e.type==t.events.TOUCHSTART&&e.currentTarget==this.containerEl&&this.restart(),this.activated&&!this.crashed&&t.keycodes.DUCK[e.keyCode]&&(e.preventDefault(),this.tRex.jumping?this.tRex.setSpeedDrop():this.tRex.jumping||this.tRex.ducking||this.tRex.setDuck(!0))},onKeyUp:function(e){var i=String(e.keyCode),s=t.keycodes.JUMP[i]||e.type==t.events.TOUCHEND||e.type==t.events.MOUSEDOWN;if(this.isRunning()&&s)this.tRex.endJump();else if(t.keycodes.DUCK[i])this.tRex.speedDrop=!1,this.tRex.setDuck(!1);else if(this.crashed){var n=o()-this.time;(t.keycodes.RESTART[i]||this.isLeftClickOnCanvas(e)||n>=this.config.GAMEOVER_CLEAR_TIME&&t.keycodes.JUMP[i])&&this.restart()}else this.paused&&s&&(this.tRex.reset(),this.play())},isLeftClickOnCanvas:function(e){return null!=e.button&&e.button<2&&e.type==t.events.MOUSEUP&&e.target==this.canvas},raq:function(){this.drawPending||(this.drawPending=!0,this.raqId=requestAnimationFrame(this.update.bind(this)))},isRunning:function(){return!!this.raqId},gameOver:function(){this.playSound(this.soundFx.HIT),i(200),this.stop(),this.crashed=!0,this.distanceMeter.acheivement=!1,this.tRex.update(100,f.status.CRASHED),this.gameOverPanel?this.gameOverPanel.draw():this.gameOverPanel=new r(this.canvas,this.spriteDef.TEXT_SPRITE,this.spriteDef.RESTART,this.dimensions),this.distanceRan>this.highestScore&&(this.highestScore=Math.ceil(this.distanceRan),this.distanceMeter.setHighScore(this.highestScore)),this.time=o()},stop:function(){this.activated=!1,this.paused=!0,cancelAnimationFrame(this.raqId),this.raqId=0},play:function(){this.crashed||(this.activated=!0,this.paused=!1,this.tRex.update(0,f.status.RUNNING),this.time=o(),this.update())},restart:function(){this.raqId||(this.playCount++,this.runningTime=0,this.activated=!0,this.crashed=!1,this.distanceRan=0,this.setSpeed(this.config.SPEED),this.time=o(),this.containerEl.classList.remove(t.classes.CRASHED),this.clearCanvas(),this.distanceMeter.reset(this.highestScore),this.horizon.reset(),this.tRex.reset(),this.playSound(this.soundFx.BUTTON_PRESS),this.update())},onVisibilityChange:function(t){document.hidden||document.webkitHidden||"blur"==t.type?this.stop():this.crashed||(this.tRex.reset(),this.play())},playSound:function(t){if(t){var e=this.audioContext.createBufferSource();e.buffer=t,e.connect(this.audioContext.destination),e.start(0)}}},t.updateCanvasScaling=function(t,e,i){var s=t.getContext("2d"),n=Math.floor(window.devicePixelRatio)||1,o=Math.floor(s.webkitBackingStorePixelRatio)||1,r=n/o;if(n!==o){var a=e||t.width,h=i||t.height;return t.width=a*r,t.height=h*r,t.style.width=a+"px",t.style.height=h+"px",s.scale(r,r),!0}return 1==n&&(t.style.width=t.width+"px",t.style.height=t.height+"px"),!1},r.dimensions={TEXT_X:0,TEXT_Y:13,TEXT_WIDTH:191,TEXT_HEIGHT:11,RESTART_WIDTH:36,RESTART_HEIGHT:32},r.prototype={updateDimensions:function(t,e){this.canvasDimensions.WIDTH=t,e&&(this.canvasDimensions.HEIGHT=e)},draw:function(){var e=r.dimensions,i=this.canvasDimensions.WIDTH/2,s=e.TEXT_X,n=e.TEXT_Y,o=e.TEXT_WIDTH,a=e.TEXT_HEIGHT,h=Math.round(i-e.TEXT_WIDTH/2),c=Math.round((this.canvasDimensions.HEIGHT-25)/3),u=e.TEXT_WIDTH,d=e.TEXT_HEIGHT,l=e.RESTART_WIDTH,f=e.RESTART_HEIGHT,m=i-e.RESTART_WIDTH/2,p=this.canvasDimensions.HEIGHT/2;v&&(n*=2,s*=2,o*=2,a*=2,l*=2,f*=2),s+=this.textImgPos.x,n+=this.textImgPos.y,this.canvasCtx.drawImage(t.imageSprite,s,n,o,a,h,c,u,d),this.canvasCtx.drawImage(t.imageSprite,this.restartImgPos.x,this.restartImgPos.y,l,f,m,p,e.RESTART_WIDTH,e.RESTART_HEIGHT)}},l.MAX_GAP_COEFFICIENT=1.5,l.MAX_OBSTACLE_LENGTH=3,l.prototype={init:function(t){if(this.cloneCollisionBoxes(),this.size>1&&this.typeConfig.multipleSpeed>t&&(this.size=1),this.width=this.typeConfig.width*this.size,this.xPos=this.dimensions.WIDTH-this.width,Array.isArray(this.typeConfig.yPos)){var i=C?this.typeConfig.yPosMobile:this.typeConfig.yPos;this.yPos=i[e(0,i.length-1)]}else this.yPos=this.typeConfig.yPos;this.draw(),this.size>1&&(this.collisionBoxes[1].width=this.width-this.collisionBoxes[0].width-this.collisionBoxes[2].width,this.collisionBoxes[2].x=this.width-this.collisionBoxes[2].width),this.typeConfig.speedOffset&&(this.speedOffset=Math.random()>.5?this.typeConfig.speedOffset:-this.typeConfig.speedOffset),this.gap=this.getGap(this.gapCoefficient,t)},draw:function(){var e=this.typeConfig.width,i=this.typeConfig.height;v&&(e=2*e,i=2*i);var s=e*this.size*(.5*(this.size-1))+this.spritePos.x;this.currentFrame>0&&(s+=e*this.currentFrame),this.canvasCtx.drawImage(t.imageSprite,s,this.spritePos.y,e*this.size,i,this.xPos,this.yPos,this.typeConfig.width*this.size,this.typeConfig.height)},update:function(t,e){this.remove||(this.typeConfig.speedOffset&&(e+=this.speedOffset),this.xPos-=Math.floor(e*E/1e3*t),this.typeConfig.numFrames&&(this.timer+=t,this.timer>=this.typeConfig.frameRate&&(this.currentFrame=this.currentFrame==this.typeConfig.numFrames-1?0:this.currentFrame+1,this.timer=0)),this.draw(),this.isVisible()||(this.remove=!0))},getGap:function(t,i){var s=Math.round(this.width*i+this.typeConfig.minGap*t),n=Math.round(s*l.MAX_GAP_COEFFICIENT);return e(s,n)},isVisible:function(){return this.xPos+this.width>0},cloneCollisionBoxes:function(){for(var t=this.typeConfig.collisionBoxes,e=t.length-1;e>=0;e--)this.collisionBoxes[e]=new d(t[e].x,t[e].y,t[e].width,t[e].height);
}},l.types=[{type:"CACTUS_SMALL",width:17,height:35,yPos:105,multipleSpeed:4,minGap:120,minSpeed:0,collisionBoxes:[new d(0,7,5,27),new d(4,0,6,34),new d(10,4,7,14)]},{type:"CACTUS_LARGE",width:25,height:50,yPos:90,multipleSpeed:7,minGap:120,minSpeed:0,collisionBoxes:[new d(0,12,7,38),new d(8,0,7,49),new d(13,10,10,38)]},{type:"PTERODACTYL",width:46,height:40,yPos:[100,75,50],yPosMobile:[100,50],multipleSpeed:999,minSpeed:8.5,minGap:150,collisionBoxes:[new d(15,15,16,5),new d(18,21,24,6),new d(2,14,4,3),new d(6,10,4,7),new d(10,8,6,9)],numFrames:2,frameRate:1e3/6,speedOffset:.8}],f.config={DROP_VELOCITY:-5,GRAVITY:.6,HEIGHT:47,HEIGHT_DUCK:25,INIITAL_JUMP_VELOCITY:-10,INTRO_DURATION:1500,MAX_JUMP_HEIGHT:30,MIN_JUMP_HEIGHT:30,SPEED_DROP_COEFFICIENT:3,SPRITE_WIDTH:262,START_X_POS:50,WIDTH:44,WIDTH_DUCK:59},f.collisionBoxes={DUCKING:[new d(1,18,55,25)],RUNNING:[new d(22,0,17,16),new d(1,18,30,9),new d(10,35,14,8),new d(1,24,29,5),new d(5,30,21,4),new d(9,34,15,4)]},f.status={CRASHED:"CRASHED",DUCKING:"DUCKING",JUMPING:"JUMPING",RUNNING:"RUNNING",WAITING:"WAITING"},f.BLINK_TIMING=7e3,f.animFrames={WAITING:{frames:[44,0],msPerFrame:1e3/3},RUNNING:{frames:[88,132],msPerFrame:1e3/12},CRASHED:{frames:[220],msPerFrame:1e3/60},JUMPING:{frames:[0],msPerFrame:1e3/60},DUCKING:{frames:[262,321],msPerFrame:125}},f.prototype={init:function(){this.blinkDelay=this.setBlinkDelay(),this.groundYPos=t.defaultDimensions.HEIGHT-this.config.HEIGHT-t.config.BOTTOM_PAD,this.yPos=this.groundYPos,this.minJumpHeight=this.groundYPos-this.config.MIN_JUMP_HEIGHT,this.draw(0,0),this.update(0,f.status.WAITING)},setJumpVelocity:function(t){this.config.INIITAL_JUMP_VELOCITY=-t,this.config.DROP_VELOCITY=-t/2},update:function(t,e){this.timer+=t,e&&(this.status=e,this.currentFrame=0,this.msPerFrame=f.animFrames[e].msPerFrame,this.currentAnimFrames=f.animFrames[e].frames,e==f.status.WAITING&&(this.animStartTime=o(),this.setBlinkDelay())),this.playingIntro&&this.xPos<this.config.START_X_POS&&(this.xPos+=Math.round(this.config.START_X_POS/this.config.INTRO_DURATION*t)),this.status==f.status.WAITING?this.blink(o()):this.draw(this.currentAnimFrames[this.currentFrame],0),this.timer>=this.msPerFrame&&(this.currentFrame=this.currentFrame==this.currentAnimFrames.length-1?0:this.currentFrame+1,this.timer=0),this.speedDrop&&this.yPos==this.groundYPos&&(this.speedDrop=!1,this.setDuck(!0))},draw:function(e,i){var s=e,n=i,o=this.ducking&&this.status!=f.status.CRASHED?this.config.WIDTH_DUCK:this.config.WIDTH,r=this.config.HEIGHT;v&&(s*=2,n*=2,o*=2,r*=2),s+=this.spritePos.x,n+=this.spritePos.y,this.ducking&&this.status!=f.status.CRASHED?this.canvasCtx.drawImage(t.imageSprite,s,n,o,r,this.xPos,this.yPos,this.config.WIDTH_DUCK,this.config.HEIGHT):(this.ducking&&this.status==f.status.CRASHED&&this.xPos++,this.canvasCtx.drawImage(t.imageSprite,s,n,o,r,this.xPos,this.yPos,this.config.WIDTH,this.config.HEIGHT))},setBlinkDelay:function(){this.blinkDelay=Math.ceil(Math.random()*f.BLINK_TIMING)},blink:function(t){var e=t-this.animStartTime;e>=this.blinkDelay&&(this.draw(this.currentAnimFrames[this.currentFrame],0),1==this.currentFrame&&(this.setBlinkDelay(),this.animStartTime=t))},startJump:function(t){this.jumping||(this.update(0,f.status.JUMPING),this.jumpVelocity=this.config.INIITAL_JUMP_VELOCITY-t/10,this.jumping=!0,this.reachedMinHeight=!1,this.speedDrop=!1)},endJump:function(){this.reachedMinHeight&&this.jumpVelocity<this.config.DROP_VELOCITY&&(this.jumpVelocity=this.config.DROP_VELOCITY)},updateJump:function(t,e){var i=f.animFrames[this.status].msPerFrame,s=t/i;this.speedDrop?this.yPos+=Math.round(this.jumpVelocity*this.config.SPEED_DROP_COEFFICIENT*s):this.yPos+=Math.round(this.jumpVelocity*s),this.jumpVelocity+=this.config.GRAVITY*s,(this.yPos<this.minJumpHeight||this.speedDrop)&&(this.reachedMinHeight=!0),(this.yPos<this.config.MAX_JUMP_HEIGHT||this.speedDrop)&&this.endJump(),this.yPos>this.groundYPos&&(this.reset(),this.jumpCount++),this.update(t)},setSpeedDrop:function(){this.speedDrop=!0,this.jumpVelocity=1},setDuck:function(t){t&&this.status!=f.status.DUCKING?(this.update(0,f.status.DUCKING),this.ducking=!0):this.status==f.status.DUCKING&&(this.update(0,f.status.RUNNING),this.ducking=!1)},reset:function(){this.yPos=this.groundYPos,this.jumpVelocity=0,this.jumping=!1,this.ducking=!1,this.update(0,f.status.RUNNING),this.midair=!1,this.speedDrop=!1,this.jumpCount=0}},m.dimensions={WIDTH:10,HEIGHT:13,DEST_WIDTH:11},m.yPos=[0,13,27,40,53,67,80,93,107,120],m.config={MAX_DISTANCE_UNITS:5,ACHIEVEMENT_DISTANCE:100,COEFFICIENT:.025,FLASH_DURATION:250,FLASH_ITERATIONS:3},m.prototype={init:function(t){var e="";this.calcXPos(t),this.maxScore=this.maxScoreUnits;for(var i=0;i<this.maxScoreUnits;i++)this.draw(i,0),this.defaultString+="0",e+="9";this.maxScore=parseInt(e)},calcXPos:function(t){this.x=t-m.dimensions.DEST_WIDTH*(this.maxScoreUnits+1)},draw:function(t,e,i){var s=m.dimensions.WIDTH,n=m.dimensions.HEIGHT,o=m.dimensions.WIDTH*e,r=0,a=t*m.dimensions.DEST_WIDTH,h=this.y,c=m.dimensions.WIDTH,u=m.dimensions.HEIGHT;if(v&&(s*=2,n*=2,o*=2),o+=this.spritePos.x,r+=this.spritePos.y,this.canvasCtx.save(),i){var d=this.x-2*this.maxScoreUnits*m.dimensions.WIDTH;this.canvasCtx.translate(d,this.y)}else this.canvasCtx.translate(this.x,this.y);this.canvasCtx.drawImage(this.image,o,r,s,n,a,h,c,u),this.canvasCtx.restore()},getActualDistance:function(t){return t?Math.round(t*this.config.COEFFICIENT):0},update:function(t,e){var i=!0,s=!1;if(this.acheivement)this.flashIterations<=this.config.FLASH_ITERATIONS?(this.flashTimer+=t,this.flashTimer<this.config.FLASH_DURATION?i=!1:this.flashTimer>2*this.config.FLASH_DURATION&&(this.flashTimer=0,this.flashIterations++)):(this.acheivement=!1,this.flashIterations=0,this.flashTimer=0);else if(e=this.getActualDistance(e),e>this.maxScore&&this.maxScoreUnits==this.config.MAX_DISTANCE_UNITS?(this.maxScoreUnits++,this.maxScore=parseInt(this.maxScore+"9")):this.distance=0,e>0){e%this.config.ACHIEVEMENT_DISTANCE==0&&(this.acheivement=!0,this.flashTimer=0,s=!0);var n=(this.defaultString+e).substr(-this.maxScoreUnits);this.digits=n.split("")}else this.digits=this.defaultString.split("");if(i)for(var o=this.digits.length-1;o>=0;o--)this.draw(o,parseInt(this.digits[o]));return this.drawHighScore(),s},drawHighScore:function(){this.canvasCtx.save(),this.canvasCtx.globalAlpha=.8;for(var t=this.highScore.length-1;t>=0;t--)this.draw(t,parseInt(this.highScore[t],10),!0);this.canvasCtx.restore()},setHighScore:function(t){t=this.getActualDistance(t);var e=(this.defaultString+t).substr(-this.maxScoreUnits);this.highScore=["10","11",""].concat(e.split(""))},reset:function(){this.update(0),this.acheivement=!1}},p.config={HEIGHT:14,MAX_CLOUD_GAP:400,MAX_SKY_LEVEL:30,MIN_CLOUD_GAP:100,MIN_SKY_LEVEL:71,WIDTH:46},p.prototype={init:function(){this.yPos=e(p.config.MAX_SKY_LEVEL,p.config.MIN_SKY_LEVEL),this.draw()},draw:function(){this.canvasCtx.save();var e=p.config.WIDTH,i=p.config.HEIGHT;v&&(e=2*e,i=2*i),this.canvasCtx.drawImage(t.imageSprite,this.spritePos.x,this.spritePos.y,e,i,this.xPos,this.yPos,p.config.WIDTH,p.config.HEIGHT),this.canvasCtx.restore()},update:function(t){this.remove||(this.xPos-=Math.ceil(t),this.draw(),this.isVisible()||(this.remove=!0))},isVisible:function(){return this.xPos+p.config.WIDTH>0}},g.dimensions={WIDTH:600,HEIGHT:12,YPOS:127},g.prototype={setSourceDimensions:function(){for(var t in g.dimensions)v?"YPOS"!=t&&(this.sourceDimensions[t]=2*g.dimensions[t]):this.sourceDimensions[t]=g.dimensions[t],this.dimensions[t]=g.dimensions[t];this.xPos=[0,g.dimensions.WIDTH],this.yPos=g.dimensions.YPOS},getRandomType:function(){return Math.random()>this.bumpThreshold?this.dimensions.WIDTH:0},draw:function(){this.canvasCtx.drawImage(t.imageSprite,this.sourceXPos[0],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[0],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT),this.canvasCtx.drawImage(t.imageSprite,this.sourceXPos[1],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[1],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT)},updateXPos:function(t,e){var i=t,s=0==t?1:0;this.xPos[i]-=e,this.xPos[s]=this.xPos[i]+this.dimensions.WIDTH,this.xPos[i]<=-this.dimensions.WIDTH&&(this.xPos[i]+=2*this.dimensions.WIDTH,this.xPos[s]=this.xPos[i]-this.dimensions.WIDTH,this.sourceXPos[i]=this.getRandomType()+this.spritePos.x)},update:function(t,e){var i=Math.floor(.06*e*t);this.xPos[0]<=0?this.updateXPos(0,i):this.updateXPos(1,i),this.draw()},reset:function(){this.xPos[0]=0,this.xPos[1]=g.dimensions.WIDTH}},y.config={BG_CLOUD_SPEED:.2,BUMPY_THRESHOLD:.3,CLOUD_FREQUENCY:.5,HORIZON_HEIGHT:16,MAX_CLOUDS:6},y.prototype={init:function(){this.addCloud(),this.horizonLine=new g(this.canvas,this.spritePos.HORIZON)},update:function(t,e,i){this.runningTime+=t,this.horizonLine.update(t,e),this.updateClouds(t,e),i&&this.updateObstacles(t,e)},updateClouds:function(t,e){var i=this.cloudSpeed/1e3*t*e,s=this.clouds.length;if(s){for(var n=s-1;n>=0;n--)this.clouds[n].update(i);var o=this.clouds[s-1];s<this.config.MAX_CLOUDS&&this.dimensions.WIDTH-o.xPos>o.cloudGap&&this.cloudFrequency>Math.random()&&this.addCloud(),this.clouds=this.clouds.filter(function(t){return!t.remove})}},updateObstacles:function(t,e){for(var i=this.obstacles.slice(0),s=0;s<this.obstacles.length;s++){var n=this.obstacles[s];n.update(t,e),n.remove&&i.shift()}if(this.obstacles=i,this.obstacles.length>0){var o=this.obstacles[this.obstacles.length-1];o&&!o.followingObstacleCreated&&o.isVisible()&&o.xPos+o.width+o.gap<this.dimensions.WIDTH&&(this.addNewObstacle(e),o.followingObstacleCreated=!0)}else this.addNewObstacle(e)},addNewObstacle:function(i){var s=e(0,l.types.length-1),n=l.types[s];if(this.duplicateObstacleCheck(n.type)||i<n.minSpeed)this.addNewObstacle(i);else{var o=this.spritePos[n.type];this.obstacles.push(new l(this.canvasCtx,n,o,this.dimensions,this.gapCoefficient,i)),this.obstacleHistory.unshift(n.type),this.obstacleHistory.length>1&&this.obstacleHistory.splice(t.config.MAX_OBSTACLE_DUPLICATION)}},duplicateObstacleCheck:function(e){for(var i=0,s=0;s<this.obstacleHistory.length;s++)i=this.obstacleHistory[s]==e?i+1:0;return i>=t.config.MAX_OBSTACLE_DUPLICATION},reset:function(){this.obstacles=[],this.horizonLine.reset()},resize:function(t,e){this.canvas.width=t,this.canvas.height=e},addCloud:function(){this.clouds.push(new p(this.canvas,this.spritePos.CLOUD,this.dimensions.WIDTH))}}}(),new Runner(".interstitial-wrapper")),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),n=Math.max(0,16-(s-t)),o=window.setTimeout(function(){e(s+n)},n);return t=s+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),$("#que").length&&!function(){function t(){r=window.innerWidth,a=window.innerHeight,l={x:0,y:a},h=document.getElementById("que"),h.style.height=a+"px",c=document.getElementById("my-canvas"),c.width=r,c.height=a,u=c.getContext("2d"),d=[];for(var t=0;t<.5*r;t++){var e=new o;d.push(e)}n()}function e(){window.addEventListener("scroll",i),window.addEventListener("resize",s)}function i(){f=!(document.body.scrollTop>a)}function s(){r=window.innerWidth,a=window.innerHeight,h.style.height=a+"px",c.width=r,c.height=a}function n(){if(f){u.clearRect(0,0,r,a);for(var t in d)d[t].draw()}requestAnimationFrame(n)}function o(){function t(){e.pos.x=Math.random()*r,e.pos.y=a+100*Math.random(),e.alpha=.1+.3*Math.random(),e.scale=.1+.3*Math.random(),e.velocity=Math.random()}var e=this;!function(){e.pos={},t(),console.log(e)}(),this.draw=function(){e.alpha<=0&&t(),e.pos.y-=e.velocity,e.alpha-=5e-4,u.beginPath(),u.arc(e.pos.x,e.pos.y,100*e.scale,0,2*Math.PI,!1),u.fillStyle="rgba(0,0,0,"+e.alpha+")",u.fill()}}var r,a,h,c,u,d,l,f=!0;t(),e()}(),jQuery(document).ready(function(){jQuery(".menu-button, .main-logo, .btn-callout").on("click",function(t){jQuery(".menu-line:eq(0)").toggleClass("menu-line-1"),jQuery(".menu-line:eq(1)").toggleClass("menu-line-2"),jQuery(".menu-line:eq(2)").toggleClass("menu-line-3"),jQuery(".menu").toggleClass("opened"),jQuery(".menu-button").toggleClass("circle-menu"),t.stopPropagation()}),jQuery(".menu").click(function(t){t.stopPropagation()}),jQuery(".icon-arrow").click(function(){jQuery.scrollify.next()}),jQuery("body").click(function(){jQuery(".menu").hasClass("opened")&&(jQuery(".menu").removeClass("opened"),jQuery(".menu-line:eq(0)").toggleClass("menu-line-1"),jQuery(".menu-line:eq(1)").toggleClass("menu-line-2"),jQuery(".menu-line:eq(2)").toggleClass("menu-line-3"))});var t=["#eaeaea","#fff","#ffcc00","#d20204","#009EE3","#E5007D"];jQuery(".portafolio-logo").on("mouseenter",function(){jQuery("section#que").css("backgroundColor",function(){var e=Math.floor(Math.random()*t.length);return t[e]})}),$(".header-subtitle").typed({strings:["indicestudio","multimedia","expertos","soluciones","chillanejos"],typeSpeed:50,showCursor:!1,loop:!0,backSpeed:40}),window.sr=ScrollReveal({duration:1e3,delay:150,scale:.5,mobile:!1}),sr.reveal(".display-title"),sr.reveal(".display-paragraph",{delay:750}),sr.reveal(".portafolio-logo",600);var e="https://api.tumblr.com/v2/blog/somosindice.tumblr.com/info?api_key=eZQhx9eBfhXDe4xxsPEHowKCrMMhYCw5rkw04NVx77PceTpaYi";$.ajax({url:e,crossDomain:!0,data:{format:"jsonp"},error:function(){console.log("Error API no cargada!")},success:function(t){console.log(t.response.blog.title)},type:"GET"});window.onkeydown=function(t){return!(32==t.keyCode)}});